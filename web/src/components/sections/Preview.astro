---
import { Code } from 'astro:components'
import pkg from '../../../package.json'

import CopyIcon from '@components/icons/copy.astro'
import Logo from '@components/ui/Logo.astro'

const { version } = pkg

const packageManagers = [
  {
    name: 'npm',
    icon: `<svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 32 32'><path fill='#c12127' d='M2 2h28v28H2'/><path fill='#fff' d='M7.25 7.25h17.5v17.5h-3.5v-14H16v14H7.25'/></svg>`,
    command: 'npm install tailwind-animations'
  },
  {
    name: 'pnpm',
    icon: `<svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 32 32'><path fill='#f9ad00' d='M30 10.75h-8.749V2H30Zm-9.626 0h-8.75V2h8.75Zm-9.625 0H2V2h8.749ZM30 20.375h-8.749v-8.75H30Z'/><path fill='#4e4e4e' d='M20.374 20.375h-8.75v-8.75h8.75Zm0 9.625h-8.75v-8.75h8.75ZM30 30h-8.749v-8.75H30Zm-19.251 0H2v-8.75h8.749Z'/></svg>`,
    command: 'pnpm add tailwind-animations'
  },
  {
    name: 'yarn',
    icon: `<svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 32 32'><path fill='#2188b6' d='M28.208 24.409a10.5 10.5 0 0 0-3.959 1.822a23.7 23.7 0 0 1-5.835 2.642a1.63 1.63 0 0 1-.983.55a62 62 0 0 1-6.447.577c-1.163.009-1.876-.3-2.074-.776a1.573 1.573 0 0 1 .866-2.074a4 4 0 0 1-.514-.379c-.171-.171-.352-.514-.406-.388c-.225.55-.343 1.894-.947 2.5c-.83.839-2.4.559-3.328.072c-1.019-.541.072-1.813.072-1.813a.73.73 0 0 1-.992-.343a4.85 4.85 0 0 1-.667-2.949a5.37 5.37 0 0 1 1.749-2.895a9.3 9.3 0 0 1 .658-4.4a10.45 10.45 0 0 1 3.165-3.661S6.628 10.747 7.35 8.817c.469-1.262.658-1.253.812-1.308a3.6 3.6 0 0 0 1.452-.857a5.27 5.27 0 0 1 4.41-1.7S15.2 1.4 16.277 2.09a18.4 18.4 0 0 1 1.533 2.886s1.281-.748 1.425-.469a11.33 11.33 0 0 1 .523 6.132a14 14 0 0 1-2.6 5.411c-.135.225 1.551.938 2.615 3.887c.983 2.7.108 4.96.262 5.212c.027.045.036.063.036.063s1.127.09 3.391-1.308a8.5 8.5 0 0 1 4.277-1.604a1.081 1.081 0 0 1 .469 2.11Z'/></svg>`,
    command: 'yarn add tailwind-animations'
  },
  {
    name: 'bun',
    icon: `<svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 32 32'><path fill='#fbf0df' d='M29 17c0 5.65-5.82 10.23-13 10.23S3 22.61 3 17c0-3.5 2.24-6.6 5.66-8.44S14.21 4.81 16 4.81s3.32 1.54 7.34 3.71C26.76 10.36 29 13.46 29 17'/><path fill='none' stroke='#000' d='M16 27.65c7.32 0 13.46-4.65 13.46-10.65c0-3.72-2.37-7-5.89-8.85c-1.39-.75-2.46-1.41-3.37-2l-1.13-.69A6.14 6.14 0 0 0 16 4.35a6.9 6.9 0 0 0-3.3 1.23c-.42.24-.86.51-1.32.8c-.87.54-1.83 1.13-3 1.73C4.91 10 2.54 13.24 2.54 17c0 6 6.14 10.65 13.46 10.65Z'/><ellipse cx='21.65' cy='18.62' fill='#febbd0' rx='2.17' ry='1.28'/><ellipse cx='10.41' cy='18.62' fill='#febbd0' rx='2.17' ry='1.28'/><path fill-rule='evenodd' d='M11.43 18.11a2 2 0 1 0-2-2.05a2.05 2.05 0 0 0 2 2.05m9.2 0a2 2 0 1 0-2-2.05a2 2 0 0 0 2 2.05'/><path fill='#fff' fill-rule='evenodd' d='M10.79 16.19a.77.77 0 1 0-.76-.77a.76.76 0 0 0 .76.77m9.2 0a.77.77 0 1 0 0-1.53a.77.77 0 0 0 0 1.53'/><path fill='#b71422' stroke='#000' stroke-width='.75' d='M18.62 19.67a3.3 3.3 0 0 1-1.09 1.75a2.48 2.48 0 0 1-1.5.69a2.53 2.53 0 0 1-1.5-.69a3.28 3.28 0 0 1-1.08-1.75a.26.26 0 0 1 .29-.3h4.58a.27.27 0 0 1 .3.3Z'/><path fill='#ccbea7' fill-rule='evenodd' d='M14.93 5.75a6.1 6.1 0 0 1-2.09 4.62c-.1.09 0 .27.11.22c1.25-.49 2.94-1.94 2.23-4.88c-.03-.15-.25-.11-.25.04m.85 0a6 6 0 0 1 .57 5c0 .13.12.24.21.13c.83-1 1.54-3.11-.59-5.31c-.1-.11-.27.04-.19.17Zm1-.06a6.1 6.1 0 0 1 2.53 4.38c0 .14.21.17.24 0c.34-1.3.15-3.51-2.66-4.66c-.12-.02-.21.18-.09.27ZM9.94 9.55a6.27 6.27 0 0 0 3.89-3.33c.07-.13.28-.08.25.07c-.64 3-2.79 3.59-4.13 3.51c-.14-.01-.14-.21-.01-.25'/></svg>`,
    command: 'bun add tailwind-animations'
  },
  {
    name: 'deno',
    icon: `<svg xmlns='http://www.w3.org/2000/svg' width='1em' height='1em' viewBox='0 0 32 32'><path fill-rule='evenodd' d='M4.45 21.34A12.5 12.5 0 0 1 3.27 16a12 12 0 0 1 .09-1.46a11 11 0 0 1 .24-1.42a12.75 12.75 0 0 1 9.73-9.57A13 13 0 0 1 16 3.27h1a12.73 12.73 0 0 1 11.57 10.5a13 13 0 0 1 .16 2.23v1a12.6 12.6 0 0 1-3.3 7.61a6.62 6.62 0 0 1-4.7 2.06a4.68 4.68 0 0 1-2.88-1.09a4.58 4.58 0 0 1-1.63-3.09a5.5 5.5 0 0 1 .14-1.61a3.4 3.4 0 0 1 .8-1.53a5 5 0 0 1-1.3-.88a.15.15 0 0 1 0-.19a.16.16 0 0 1 .18-.06a10 10 0 0 0 1.46.37a20 20 0 0 0 2.45.31c2.13.1 4.38-.9 5.05-2.81s.43-3.83-2.08-5s-3.66-2.5-5.69-3.32a5 5 0 0 0-4.3.62c-4.08 2.25-7.72 9.35-6 15.94a.21.21 0 0 1-.1.23a.2.2 0 0 1-.23 0a13 13 0 0 1-1.33-1.73a13 13 0 0 1-.82-1.49'/><path fill='#f5f5f5' fill-rule='evenodd' d='M16.65 2A14 14 0 1 1 2 15.35A14 14 0 0 1 16.65 2m3.27 16.85a20 20 0 0 1-2.45-.31a8.6 8.6 0 0 1-1.47-.35a.16.16 0 0 0-.18.06a.15.15 0 0 0 0 .19a5 5 0 0 0 1.3.88a3.4 3.4 0 0 0-.8 1.53a5.5 5.5 0 0 0-.14 1.61a4.58 4.58 0 0 0 1.63 3.09a4.68 4.68 0 0 0 2.88 1.09a6.62 6.62 0 0 0 4.72-2.07a12.73 12.73 0 1 0-18.84 0a.21.21 0 0 0 .35-.19c-1.68-6.59 2-13.69 6-15.94a5 5 0 0 1 4.3-.62c2 .82 3.18 2.18 5.69 3.32s2.78 3 2.08 5s-2.91 2.86-5.07 2.73ZM15.54 8.69c-.82.06-1.36 1.08-1.43 1.73s.25 1.73 1.32 1.71c1.25 0 1.64-1.09 1.5-2.13a1.39 1.39 0 0 0-1.39-1.31'/><path fill-rule='evenodd' d='M15.54 8.68A1.4 1.4 0 0 1 16.93 10c.14 1-.24 2.12-1.49 2.14c-1.07 0-1.4-1.06-1.33-1.71s.61-1.68 1.43-1.75'/></svg>`,
    command: 'deno add tailwind-animations'
  }
]
---

<!-- First Section of the Main -->

<section class='relative z-10 mx-auto mb-20 max-w-6xl px-4 lg:px-8'>
  <!-- Version badge -->
  <div class='animate-fade-in-up mb-8'>
    <span
      class='inline-flex items-center rounded-full bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-blue-700/10 ring-inset dark:bg-blue-400/10 dark:text-blue-400 dark:ring-blue-400/30'
    >
      v{version}
    </span>
  </div>

  <!-- Main Hero: Two columns layout -->
  <div class='grid items-end gap-12 lg:grid-cols-2 lg:gap-16'>
    <!-- Left Column: Content -->
    <div class='text-left'>
      <div
        class='animate-fade-in-up animate-delay-100 mb-6 flex items-center gap-2 sm:gap-5'
      >
        <Logo
          class='aspect-square size-10 shrink-0 sm:size-14'
          iconClass='size-7 animate-float-subtle'
        />
        <h1
          class='text-3xl font-bold tracking-tight text-slate-900 sm:text-5xl dark:text-white'
        >
          Tailwind <span class='text-blue-500'>Animations</span>
        </h1>
      </div>
      <p
        class='animate-fade-in-up animate-delay-200 mb-10 max-w-md text-base leading-7 text-slate-600 sm:text-lg dark:text-slate-400'
      >
        The easiest way to add stunning animations to your Tailwind CSS
        projects. Zero configuration, pure performance.
      </p>

      <!-- Install Command Box -->
      <div class='animate-fade-in-up animate-delay-300 flex flex-col gap-5'>
        <div
          class='overflow-hidden rounded-xl border border-slate-200 bg-white/50 p-1 shadow-xl shadow-slate-200/50 backdrop-blur-sm dark:border-white/10 dark:bg-black/40 dark:shadow-none'
        >
          <div
            class='flex items-center justify-between border-b border-slate-200 px-1 sm:px-4 dark:border-white/10'
          >
            <div
              class='scrollbar-hide flex items-center gap-1 overflow-x-auto py-2 max-sm:grid max-sm:grid-flow-col max-sm:grid-rows-2 max-sm:overflow-x-auto'
            >
              {
                packageManagers.map((pm, index) => (
                  <button
                    class={`package-manager-btn flex items-center gap-2 rounded-full px-2 py-1 text-xs font-bold transition-all ${index === 0 ? 'bg-black/10 text-slate-900 dark:bg-white/5 dark:text-white' : 'text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200'}`}
                    data-pm={pm.name}
                    data-command={pm.command}
                  >
                    <span
                      class='flex size-4 items-center justify-center'
                      set:html={pm.icon}
                    />
                    <span>{pm.name}</span>
                  </button>
                ))
              }
            </div>
            <button
              id='copyNpmInstall'
              class='group flex shrink-0 items-center gap-2 text-xs font-semibold text-slate-500 transition-colors hover:text-blue-500'
              title='Copy to clipboard'
            >
              <CopyIcon class='size-4 group-active:scale-90' />
            </button>
          </div>
          <div class='flex items-center gap-4 p-4'>
            <div class='scrollbar-hide flex-1 overflow-x-auto text-left'>
              <code
                class='font-mono text-sm text-slate-800 dark:text-slate-200'
              >
                <span class='text-blue-500 select-none'>$ </span><span
                  id='install-command'>{packageManagers[0].command}</span
                >
              </code>
            </div>
          </div>
        </div>

        <div
          class='overflow-hidden rounded-xl border border-slate-200 bg-white/50 p-1 backdrop-blur-sm dark:border-white/10 dark:bg-black/40'
        >
          <div
            class='flex items-center justify-between border-b border-slate-200 px-4 py-2 dark:border-white/10'
          >
            <div class='flex gap-1'>
              <button
                class='version-tab rounded-full bg-black/10 px-3 py-1 text-[10px] font-bold tracking-widest text-slate-900 uppercase transition-all dark:bg-white/5 dark:text-white'
                data-version='v4'
              >
                Tailwind v4
              </button>
              <button
                class='version-tab rounded-full px-3 py-1 text-[10px] font-bold tracking-widest text-slate-500 uppercase transition-all hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200'
                data-version='v3'
              >
                Tailwind v3
              </button>
            </div>
            <div class='flex items-center gap-4'>
              <div
                class='text-[10px] font-bold tracking-widest text-slate-400 uppercase'
              >
                How to use
              </div>
              <button
                id='copyCode'
                class='group flex shrink-0 items-center gap-2 text-xs font-semibold text-slate-500 transition-colors hover:text-blue-500'
                title='Copy to clipboard'
              >
                <CopyIcon class='size-4 group-active:scale-90' />
              </button>
            </div>
          </div>
          <div class='overflow-x-auto p-4 text-left dark:border-none'>
            <div id='code-v4' class='version-code'>
              <Code
                class='text-sm'
                wrap={true}
                lang='postcss'
                theme='synthwave-84'
                code={`@import 'tailwindcss';
@import 'tailwind-animations';`}
              />
            </div>
            <div id='code-v3' class='version-code hidden'>
              <Code
                class='text-sm'
                wrap={true}
                theme='synthwave-84'
                lang='javascript'
                code={`// install package '@midudev/tailwind-animations@0.2.0'
// npm install @midudev/tailwind-animations@0.2.0
                    
// tailwind.config.mjs
import animations from 'tailwind-animations'

export default {
  plugins: [
    animations
  ],
}`}
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Column: Interactive Demo -->
    <div class='animate-fade-in-up animate-delay-500 relative'>
      <!-- Demo Window -->
      <div
        class='relative overflow-hidden rounded-2xl border border-slate-200 bg-slate-50 shadow-2xl shadow-blue-500/10 dark:border-slate-700/50 dark:bg-slate-900'
      >
        <!-- Window Header -->
        <div
          class='flex items-center justify-between border-b border-slate-200 bg-slate-100 px-4 py-3 dark:border-slate-700/50 dark:bg-slate-800/50'
        >
          <div class='flex items-center gap-2'>
            <div class='size-3 rounded-full bg-red-500'></div>
            <div class='size-3 rounded-full bg-yellow-500'></div>
            <div class='size-3 rounded-full bg-green-500'></div>
          </div>
          <span class='font-mono text-xs text-slate-500'>demo_preview.html</span
          >
          <div class='w-12'></div>
        </div>

        <!-- Preview Area -->
        <div
          class='relative flex min-h-[280px] items-center justify-center overflow-hidden bg-linear-to-br from-slate-50 via-white to-slate-50 p-8 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900'
        >
          <!-- Grid Pattern Background -->
          <div
            class='pointer-events-none absolute inset-0 opacity-30 dark:opacity-30'
            style='background-image: linear-gradient(rgba(99, 102, 241, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(99, 102, 241, 0.1) 1px, transparent 1px); background-size: 40px 40px;'
          >
          </div>

          <!-- Animated Box -->
          <div
            id='hero-demo-box'
            class='relative size-28 rounded-2xl bg-linear-to-br from-violet-500 via-purple-500 to-pink-500 shadow-2xl shadow-purple-500/40'
          >
            <!-- Glow effect -->
            <div
              class='absolute -inset-1 -z-10 rounded-2xl bg-linear-to-br from-violet-500 via-purple-500 to-pink-500 opacity-50 blur-xl'
            >
            </div>
          </div>
        </div>

        <!-- Code Display Area -->
        <div
          class='border-t border-slate-200 bg-white p-5 dark:border-slate-700/50 dark:bg-slate-900/80'
        >
          <div class='font-mono text-sm'>
            <span class='text-slate-500'>&lt;</span><span
              class='text-pink-600 dark:text-pink-400'>div</span
            >
            <span class='text-slate-500'> class="</span><span
              id='hero-demo-classes'
              class='text-cyan-600 dark:text-cyan-400'></span><span
              class='text-slate-500'>"&gt;</span
            >
          </div>
          <div
            class='pl-4 font-mono text-sm text-slate-400 dark:text-slate-600'
          >
            &lt;!-- Applied animation --&gt;
          </div>
          <div class='font-mono text-sm'>
            <span class='text-slate-500'>&lt;/</span><span
              class='text-pink-600 dark:text-pink-400'>div</span
            ><span class='text-slate-500'>&gt;</span>
          </div>
        </div>
      </div>

      <!-- Decorative elements -->
      <div
        class='pointer-events-none absolute top-0 right-0 size-40 -translate-x-20 -translate-y-20 rounded-full bg-blue-500/20 blur-3xl'
      >
      </div>

      <div
        class='pointer-events-none absolute -bottom-20 -left-20 size-40 rounded-full bg-purple-500/20 blur-3xl'
      >
      </div>
    </div>
  </div>
</section>
